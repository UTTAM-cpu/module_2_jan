<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sum display</title>
    <style>

        body{
            width: 100%;
            /* height: 100vh; */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        img{
            width: 505px ;
            height: 450px;
            /* background-image: url(/images/diceimg.jpg); */
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div class="img">
        <button id="img_dice" onclick="rollDice()"><img src="./images/diceimg.jpg" alt=""></button>
    </div>
    <h2>
        Roll The Dice
    </h2>
    <h1>
        Your Score
    </h1>
    <script>
        const dice_img = document.querySelector("#dice_img");
        const h2 =document.querySelector("h2")
        const h1 = document.querySelector("h1")
        let sum = 0;
        let chanceLeft= 3;
        let attempt = 2;
        // var random= 0;
        function rollDice(){
            let random=  Math.floor(Math.random()*6) + 1;
            chanceLeft--
            sum =sum+random;
            h2.innerHTML = random;
            if(chanceLeft == 0 && sum>10){
                h1.innerHTML = sum;
                alert(`congrates! You Scored ${sum}`)
                chanceLeft = 3;
                sum= 0;
                attempt--;

                function create_random_string(){
                    var random_string="";
                    var characters= "A1DE45GUz7h3";

                    for(let i=0;i<characters.length;i++){
                        random_string += characters.charAt(Math.floor(Math.random() * characters.length));
                    }
                    return random_string;
                }
                let coupon = create_random_string();
                localStorage.setItem("coupon",coupon);
                // console.log(coupon);


                document.getElementById('img3').disabled = true;
                window.location.replace ="/index.html"
                

            }
            else{
                if(chanceLeft1= 0 && sum<10 && attempt!= 0){
                    alert(`As your score is ${sum}  which is less then 10 therefore again roll the dice`)
                    window.location.href ="/dice.html"

                }
                

            }
        }
        


        
    </script>
</body>
</html>